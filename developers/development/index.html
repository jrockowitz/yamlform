<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Jacob Rockowitz">
        
        <link rel="shortcut icon" href="../../favicon.ico">
        

	<title>Development Cheatsheet - YAML Form</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">
        <link href="../../css/base.css" rel="stylesheet">
        <link href="../../extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../..">YAML Form</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../..">Home</a>
                </li>
            
            
            
                <li >
                    <a href="../../features/">Features</a>
                </li>
            
            
            
                <li >
                    <a href="../../download/">Download</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../../support/installation/">Installation</a>
</li>

                    
                        
<li >
    <a href="../../support/faq/">Frequently Asked Questions (FAQ)</a>
</li>

                    
                        
<li >
    <a href="../../support/videos/">Videos & Presentations</a>
</li>

                    
                        
<li >
    <a href="../../support/screencasts/">Screencasts / Tutorials</a>
</li>

                    
                        
<li >
    <a href="../../support/glossary/">Glossary</a>
</li>

                    
                        
<li >
    <a href="../../support/issues/">Known Issues</a>
</li>

                    
                        
<li >
    <a href="../../support/drupal/">On Drupal.org</a>
</li>

                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">For Developers <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        
<li >
    <a href="../extending/">Customizing & Extending</a>
</li>

                    
                        
<li >
    <a href="../roadmap/">8.x-1.x Release Roadmap</a>
</li>

                    
                        
<li class="active">
    <a href="./">Development Cheatsheet</a>
</li>

                    
                        
<li >
    <a href="../maintainers/">Maintainers Guide</a>
</li>

                    
                        
<li >
    <a href="../resources/">Additional Resources</a>
</li>

                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li >
                    <a rel="next" href="../roadmap/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../maintainers/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#development-cheatsheet">Development Cheatsheet</a></li>
        
            <li><a href="#patching">Patching</a></li>
        
            <li><a href="#branching">Branching</a></li>
        
            <li><a href="#gitflow">GitFlow</a></li>
        
            <li><a href="#drush">Drush</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h2 id="development-cheatsheet">Development Cheatsheet</h2>
<p>Below are useful commands and cheatsheets that make it a little easier for
me to maintain the YAML Form module.</p>
<h3 id="patching">Patching</h3>
<p><strong><a href="https://www.drupal.org/node/707484">Create and manage patches</a></strong></p>
<pre><code class="bash"># Create and checkout issue branch
git checkout -b [issue-number]-[issue-description]

# Push issue branch to D.O. (optional)
git push -u origin [issue-number]-[issue-description]

# Create patch by comparing (current) issue branch with 8.x-1.x branch 
git diff 8.x-1.x &gt; [project_name]-[issue-description]-[issue-number]-[comment-number]-[drupal-version].patch
</code></pre>

<p><strong>Ignoring <em>.patch, </em>.diff, and .gitignore files</strong></p>
<pre><code class="bash">cat &gt;&gt; .gitignore &lt;&lt;'EOF'
.gitignore
*.patch
*.diff
EOF
</code></pre>

<p><strong><a href="https://www.drupal.org/node/1399218">Apply patch</a></strong></p>
<pre><code class="bash">curl https://www.drupal.org/files/[patch-name].patch | git apply -
</code></pre>

<p><strong><a href="https://www.drupal.org/patch/reverse">Revert patch</a></strong></p>
<pre><code class="bash">curl https://www.drupal.org/files/[patch-name].patch | git apply -R -
</code></pre>

<h3 id="branching">Branching</h3>
<p><strong>Merge branch</strong></p>
<pre><code class="bash"># Merge branch with all commits
git checkout 8.x-1.x
git merge [issue-number]-[issue-description]
git push

# Merge branch as a single new commit
git checkout 8.x-1.x
git merge --squash [issue-number]-[issue-description]
git commit -m 'Issue #[issue-number]: [issue-description]'
git push
</code></pre>

<p><strong>Exporting a branch</strong></p>
<pre><code class="bash"># Create a zip archive for a branch
git archive --format zip --output yamlform-[issue-number]-[issue-description].zip [issue-number]-[issue-description]
</code></pre>

<p><strong>Delete issue branch</strong></p>
<pre><code class="bash"># Delete local issue branch.
git branch -d [issue-number]-[issue-description] 

# Delete remote issue branch.
git push origin :[issue-number]-[issue-description]
</code></pre>

<h3 id="gitflow">GitFlow</h3>
<p>Below is a cheatsheet for using <a href="https://www.drupal.org/node/2406727">GitFlow</a> 
for development. </p>
<pre><code class="bash"># Create branch
git checkout 8.x-1.x
git checkout -b [issue-number]-[issue-description]
git push -u origin [issue-number]-[issue-description]

# Create patch
git diff 8.x-1.x &gt; [project_name]-[issue-description]-[issue-number]-00.patch

# Merge branch with all commits
git checkout 8.x-1.x
git merge [issue-number]-[issue-description]
git push

# Merge branch as a single new commit
git checkout 8.x-1.x
git merge --squash [issue-number]-[issue-description]
git commit -m 'Issue #[issue-number]: [issue-description]'
git push

# Delete branch
git branch -D [issue-number]-[issue-description]
git push origin :[issue-number]-[issue-description]
</code></pre>

<h3 id="drush">Drush</h3>
<p><strong>Reinstall YAML Form module.</strong></p>
<pre><code class="bash">drush php-eval 'module_load_include('install', 'yamlform'); yamlform_uninstall();'; drush cron;
drush php-eval 'module_load_include('install', 'yamlform_node'); yamlform_node_uninstall();'; drush cron; 
drush yamlform-purge --all -y; drush pmu -y yamlform_test; drush pmu -y yamlform_devel; drush pmu -y yamlform_examples; drush pmu -y yamlform_templates; drush pmu -y yamlform_ui; drush pmu -y yamlform_node; drush pmu -y yamlform; 
drush en -y yamlform yamlform_ui yamlform_devel yamlform_examples yamlform_templates yamlform_node;

# Optional.
drush en -y yamlform_test;
drush en -y yamlform_test_third_party_settings;
drush en -y yamlform_translation_test;
drush pmu -y yamlform_test_third_party_settings yamlform_translation_test;
</code></pre>

<p><strong>Reinstall YAML Form Test module.</strong></p>
<pre><code class="bash">drush yamlform-purge --all -y; drush pmu -y yamlform_test; drush en -y yamlform_test;
</code></pre>

<p><strong>Manage YAML Form module configuration using the <a href="https://www.drupal.org/project/features">Features</a> module</strong></p>
<pre><code># Make sure all YAML form modules that are going to be exported are enabled
drush en -y yamlform yamlform_examples yamlform_templates yamlform_test yamlform_node;

# Show the difference between the active config and the default config.
drush features-diff yamlform
drush features-diff yamlform_test

# Export YAML form configuration from your site.          
drush features-export -y yamlform
drush features-export -y yamlform_test
drush features-export -y yamlform_examples
drush features-export -y yamlform_templates
drush features-export -y yamlform_node

# Tidy YAML form configuration from your site.          
drush yamlform-tidy -y yamlform
drush yamlform-tidy -y yamlform_test
drush yamlform-tidy -y yamlform_examples
drush yamlform-tidy -y yamlform_templates
drush yamlform-tidy -y yamlform_node

# Re-import all YAML form configuration into your site.      
drush features-import -y yamlform
drush features-import -y yamlform_examples
drush features-import -y yamlform_templates
drush features-import -y yamlform_test
drush features-import -y yamlform_node
</code></pre>

<p><strong>Install extra modules.</strong></p>
<pre><code class="bash">drush en -y yamlform captcha image_captcha honeypot validators;
</code></pre>

<p><strong>Create test roles and users.</strong></p>
<pre><code class="bash">drush role-create developer
drush role-add-perm developer 'view the administration theme,access toolbar,access administration pages,access content overview,access yamlform overview,administer yamlform,administer blocks,administer nodes'
drush user-create developer --password=&quot;developer&quot;
drush user-add-role developer developer

drush role-create admin
drush role-add-perm admin 'view the administration theme,access toolbar,access administration pages,access content overview,access yamlform overview,administer yamlform submission'
drush user-create admin --password=&quot;admin&quot;
drush user-add-role admin admin

drush role-create manager
drush role-add-perm manager 'view the administration theme,access toolbar,access administration pages,access content overview,access yamlform overview'
drush user-create manager --password=&quot;manager&quot;
drush user-add-role manager manager

drush role-create user
drush user-create user --password=&quot;user&quot;
drush user-add-role user user

drush role-create any
drush user-create any --password=&quot;any&quot;
drush role-add-perm any 'view the administration theme,access administration pages,access toolbar,access yamlform overview,create yamlform,edit any yamlform,delete any yamlform,view yamlform node submissions any node,edit yamlform node submissions any node,delete yamlform node submissions any node'
drush user-add-role any any

drush role-create own
drush user-create own --password=&quot;own&quot;
drush role-add-perm own 'view the administration theme,access administration pages,access toolbar,access yamlform overview,create yamlform,edit own yamlform,delete own yamlform,view yamlform node submissions own node,edit yamlform node submissions own node,delete yamlform node submissions own node'
drush user-add-role own own
</code></pre>

<p><strong>Create test submissions for &lsquo;Contact&rsquo; and &lsquo;Example: Elements&rsquo; form.</strong></p>
<pre><code class="bash">drush yamlform-generate contact
drush yamlform-generate example_elements
</code></pre>

<p><strong>Test update hooks</strong></p>
<pre><code class="bash">drush php-eval 'module_load_include('install', 'yamlform'); ($message = yamlform_update_8001()) ? drupal_set_message($message) : NULL;'
</code></pre>

<p><strong>Access developer information</strong></p>
<pre><code class="bash">drush role-add-perm anonymous 'access devel information'
drush role-add-perm authenticated 'access devel information'
</code></pre>

<p><strong>Reinstall</strong></p>
<pre><code class="bash">drush -y site-install\
  --account-mail=&quot;example@example.com&quot;\
  --account-name=&quot;webmaster&quot;\
  --account-pass=&quot;drupal.admin&quot;\
  --site-mail=&quot;example@example.com&quot;\
  --site-name=&quot;Drupal 8 (dev)&quot;;

# Enable core modules
drush -y pm-enable\
  book\
  simpletest\
  telephone\
  language\
  locale\
  content_translation\
  config_translation;

# Disable core modules
drush -y pm-uninstall\
  update;

# Enable contrib modules
drush -y pm-enable\
  devel\
  devel_generate\
  kint\
  webprofiler\
  yamlform\
  yamlform_test\
  yamlform_translation_test;
</code></pre></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
                <center>©2016 <a href="http://thebigbluehouse.com">The Big Blue House</a> (<a href="http://drupal.org/user/371407">Jacob Rockowitz</a>)</center>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../../js/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script>var base_url = '../..';</script>
        <script data-main="../../mkdocs/js/search.js" src="../../mkdocs/js/require.js"></script>
        <script src="../../js/base.js"></script>
        <script src="../../extra.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>