<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Development - YAML Form Documentation</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Development";
    var mkdocs_page_input_path = "development.md";
    var mkdocs_page_url = "/development/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> YAML Form Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="..">Introduction</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../videos/">Videos</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../screenshots/">Screenshots</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../todo/">Todo</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../roadmap/">Roadmap</a>
        
    </li>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../issues/">Known Issues</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>For Developers and Maintainers</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../maintainers/">Maintainers</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Development</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#commands">Commands</a></li>
                
                    <li><a class="toctree-l4" href="#update-composer-libraries">Update composer libraries</a></li>
                
                    <li><a class="toctree-l4" href="#apply-patch">Apply patch</a></li>
                
                    <li><a class="toctree-l4" href="#revert-patch">Revert patch</a></li>
                
                    <li><a class="toctree-l4" href="#create-and-manage-patches">Create and manage patches</a></li>
                
                    <li><a class="toctree-l4" href="#ignoring-patches-and-gitignore">Ignoring patches (and .gitignore)</a></li>
                
                    <li><a class="toctree-l4" href="#merge-branch">Merge branch</a></li>
                
                    <li><a class="toctree-l4" href="#delete-issue-branch">Delete issue branch</a></li>
                
                    <li><a class="toctree-l4" href="#gitflow-cheatsheet">GitFlow Cheatsheet</a></li>
                
                    <li><a class="toctree-l4" href="#reinstall-yaml-form-module">Reinstall YAML form module.</a></li>
                
                    <li><a class="toctree-l4" href="#reinstall-yaml-form-test-module">Reinstall YAML form test module.</a></li>
                
                    <li><a class="toctree-l4" href="#update-yaml-form-configuration-using-features-module">Update YAML form configuration using Features module</a></li>
                
                    <li><a class="toctree-l4" href="#install-extra-modules">Install extra modules.</a></li>
                
                    <li><a class="toctree-l4" href="#create-test-roles-and-users">Create test roles and users.</a></li>
                
                    <li><a class="toctree-l4" href="#create-test-submissions-for-contact-and-example-elements-form">Create test submissions for 'Contact' and 'Example: Elements' form.</a></li>
                
                    <li><a class="toctree-l4" href="#test-update-hooks">Test update hooks</a></li>
                
                    <li><a class="toctree-l4" href="#access-developer-information">Access developer information</a></li>
                
                    <li><a class="toctree-l4" href="#update-composer-packages">Update composer packages</a></li>
                
                    <li><a class="toctree-l4" href="#reinstall">Reinstall</a></li>
                
            
                <li class="toctree-l3"><a href="#code-sources-and-design-patterns">Code Sources and Design Patterns</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../test/">Test Script</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">YAML Form Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>For Developers and Maintainers &raquo;</li>
        
      
    
    <li>Development</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="commands">Commands</h1>
<h2 id="update-composer-libraries"><a href="https://www.drupal.org/project/composer_manager">Update composer libraries</a></h2>
<pre><code>composer drupal-update
</code></pre>
<h2 id="apply-patch"><a href="https://www.drupal.org/node/1399218">Apply patch</a></h2>
<pre><code>curl https://www.drupal.org/files/[patch-name].patch | git apply -
</code></pre>
<h2 id="revert-patch"><a href="https://www.drupal.org/patch/reverse">Revert patch</a></h2>
<pre><code>curl https://www.drupal.org/files/[patch-name].patch | git apply -R -
</code></pre>
<h2 id="create-and-manage-patches"><a href="https://www.drupal.org/node/707484">Create and manage patches</a></h2>
<pre><code># Create and checkout issue branch
git checkout -b [issue-number]-[issue-description]

# Push issue branch to D.O. (optional)
git push -u origin [issue-number]-[issue-description]

# Create patch by comparing (current) issue branch with 8.x-1.x branch 
git diff 8.x-1.x &gt; [project_name]-[issue-description]-[issue-number]-[comment-number]-[drupal-version].patch
</code></pre>
<h2 id="ignoring-patches-and-gitignore">Ignoring patches (and .gitignore)</h2>
<pre><code>cat &gt;&gt; .gitignore &lt;&lt;'EOF'
.gitignore
*.patch
EOF
</code></pre>
<h2 id="merge-branch">Merge branch</h2>
<pre><code># Merge branch with all commits
git checkout 8.x-1.x
git merge [issue-number]-[issue-description]
git push

# Merge branch as a single new commit
git checkout 8.x-1.x
git merge --squash [issue-number]-[issue-description]
git commit -m 'Issue #[issue-number]: [issue-description]'
git push
</code></pre>
<h2 id="delete-issue-branch">Delete issue branch</h2>
<pre><code> # Delete local issue branch.
 git branch -d [issue-number]-[issue-description]

 # Delete remote issue branch.
 git push origin :[issue-number]-[issue-description]
</code></pre>
<h2 id="gitflow-cheatsheet"><a href="https://www.drupal.org/node/2406727">GitFlow</a> Cheatsheet</h2>
<pre><code># Create branch
git checkout -b [issue-number]-[issue-description]
git push -u origin [issue-number]-[issue-description]

# Create patch
git diff 8.x-1.x &gt; [project_name]-[issue-description]-[issue-number]-00.patch

# Merge branch with all commits
git checkout 8.x-1.x
git merge [issue-number]-[issue-description]
git push

# Merge branch as a single new commit
git checkout 8.x-1.x
git merge --squash [issue-number]-[issue-description]
git commit -m 'Issue #[issue-number]: [issue-description]'
git push

# Delete branch
git branch -d [issue-number]-[issue-description]
git push origin :[issue-number]-[issue-description]
</code></pre>
<h2 id="reinstall-yaml-form-module">Reinstall YAML form module.</h2>
<pre><code>drush php-eval 'module_load_include('install', 'yamlform'); yamlform_uninstall();'
drush cron; drush cron;
drush yamlform-purge --all -y; drush pmu -y yamlform_test; drush pmu -y yamlform_ui; drush pmu -y  yamlform; 
drush en -y yamlform yamlform_ui yamlform_test;

# Optional.
drush pmy -y yamlform_test_third_party_settings yamlform_translation_test;
drush en -y yamlform_test_third_party_settings yamlform_translation_test;
</code></pre>
<h2 id="reinstall-yaml-form-test-module">Reinstall YAML form test module.</h2>
<pre><code>drush yamlform-purge --all -y; drush pmu -y yamlform_test; drush en -y yamlform_test;
</code></pre>
<h2 id="update-yaml-form-configuration-using-features-module">Update YAML form configuration using Features module</h2>
<pre><code># Show the difference between the active config and the default config.
drush features-diff yamlform
drush features-diff yamlform_test

# IMPORTANT: 
# YOU MUST FIX *.info.yml WHERE THE DEPENDENCIES DECLARE ITSELF..

# Export and tidy all YAML form configuration from your site.          
drush features-export -y yamlform
drush features-export -y yamlform_test

# Re-import all YAML form configuration into your site.      
drush features-import -y yamlform
drush features-import -y yamlform_test
</code></pre>
<h2 id="install-extra-modules">Install extra modules.</h2>
<pre><code>drush en -y yamlform captcha honeypot select_or_other;
</code></pre>
<h2 id="create-test-roles-and-users">Create test roles and users.</h2>
<pre><code>drush role-create developer
drush role-add-perm developer 'view the administration theme,access toolbar,access administration pages,access content overview,access yamlform overview,administer yamlform,administer blocks,administer nodes'
drush user-create developer --password="developer"
drush user-add-role developer developer

drush role-create admin
drush role-add-perm admin 'view the administration theme,access toolbar,access administration pages,access content overview,access yamlform overview,administer yamlform submission'
drush user-create admin --password="admin"
drush user-add-role admin admin

drush role-create manager
drush role-add-perm manager 'view the administration theme,access toolbar,access administration pages,access content overview,access yamlform overview'
drush user-create manager --password="manager"
drush user-add-role manager manager

drush role-create user
drush user-create user --password="user"
drush user-add-role user user
</code></pre>
<h2 id="create-test-submissions-for-contact-and-example-elements-form">Create test submissions for 'Contact' and 'Example: Elements' form.</h2>
<pre><code>drush yamlform-generate contact
drush yamlform-generate example_elements
</code></pre>
<h2 id="test-update-hooks">Test update hooks</h2>
<pre><code>drush php-eval 'module_load_include('install', 'yamlform'); ($message = yamlform_update_8001()) ? drupal_set_message($message) : NULL;'
</code></pre>
<h2 id="access-developer-information">Access developer information</h2>
<pre><code>drush role-add-perm anonymous 'access devel information'
drush role-add-perm authenticated 'access devel information'
</code></pre>
<h2 id="update-composer-packages">Update composer packages</h2>
<pre><code>composer drupal-update
</code></pre>
<h2 id="reinstall">Reinstall</h2>
<pre><code>drush -y site-install\
  --account-mail="example@example.com"\
  --account-name="webmaster"\
  --account-pass="drupal.admin"\
  --site-mail="example@example.com"\
  --site-name="Drupal 8 (dev)";

# Enable core modules
drush -y pm-enable\
  book\
  simpletest\
  telephone\
  language\
  locale\
  content_translation\
  config_translation;

# Disable core modules
drush -y pm-uninstall\
  update;

# Enable contrib modules
drush -y pm-enable\
  devel\
  devel_generate\
  kint\
  webprofiler\
  yamlform\
  yamlform_test\
  yamlform_translation_test;
</code></pre>
<h1 id="code-sources-and-design-patterns">Code Sources and Design Patterns</h1>
<p>Below is just a reference to where most of the code snippets and/or 
design pattern were taken from to build this module.</p>
<ul>
<li>UI/Naming convention: Webform module (Copied)</li>
<li>YamlForm to YamlFormSubmission bundle: Vocabulary to Term entities</li>
<li>YamlFormSubmission entity_type and entity_id: Comment entity</li>
<li>YamlFormSubmission preview: CommentForm</li>
<li>YamlFormHandler plugin: ImageEffect</li>
<li>YamlFormEntityReferenceItem field type: FileItem</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../test/" class="btn btn-neutral float-right" title="Test Script">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../maintainers/" class="btn btn-neutral" title="Maintainers"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../maintainers/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../test/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
